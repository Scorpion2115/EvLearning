# Provisioning a local kubernetes cluster
## Install kind
```bash
curl -Lo ./kind https://kind.sigs.k8s.io/dl/v0.16.0/kind-linux-amd64
chmod +x ./kind
sudo mv ./kind /usr/local/bin/kind
```

## Create cluster
1. Create a cluster with kind
```bash
sudo kind create cluster --name terraform-k8s-demo  --config kind-config.yaml 
```

2. Point kubectl to  kind
```bash
sudo kubectl cluster-info --context kind-terraform-k8s-demo
```

3. Collect variables
Print the kubernetes cluster info
```bash
sudo kubectl config view --minify --flatten --context=kind-terraform-k8s-demo
```
* `server(host)`:
    ```bash
    server: https://127.0.0.1:34097
    ```
* `client_certificate`:
    ```bash
   LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURJVENDQWdtZ0F3SUJBZ0lJVFpmQXBvbnFkMTB3RFFZSktvWklodmNOQVFFTEJRQXdGVEVUTUJFR0ExVUUKQXhNS2EzVmlaWEp1WlhSbGN6QWVGdzB5TWpBNU1qa3dNVEk1TVRCYUZ3MHlNekE1TWprd01USTVNVE5hTURReApGekFWQmdOVkJBb1REbk41YzNSbGJUcHRZWE4wWlhKek1Sa3dGd1lEVlFRREV4QnJkV0psY201bGRHVnpMV0ZrCmJXbHVNSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQXhhaVFMSjNsbWxvL1dVNUkKamZtWi9uUDhqaEFNSkxjZ0twbjBLaEpzN3FqOHQrdFRxSWlrc1g0MVkvdkhvWGFxZExHYXpLdC80ZXJHNFhLVQpzeWhSendOckt5RDFEMXlZQTRIUUp6OVJzTm5rSE9qZzQyYm1yeVY1SVRrV25OUVVCaDBZTmMxMzA2SDlPU3ppCkZmODdsMjV5bFgvZzRXcVVGczNaNnpNMi91TzcyL3Q1MUcxbmx5MmlGN05Kc0ljSis2MnFzTjVZUWVGR004aGwKYWpkZFFTYkFsTW1OaGl4MnNZVkRjSmozeFBibGhhRnRKOTdqa0J1WjJTMi9ZNEcycWppK05Fc05xWk81SEFpagovcnVLcVZjdGkyd0ZLSk5iVGpGY1ZGQlFHb0Uzdk1BZXFscmk4WVI4Slo4SVRkSFlHMHVlTGk2cVZOcDMyL05TCklZZjRWd0lEQVFBQm8xWXdWREFPQmdOVkhROEJBZjhFQkFNQ0JhQXdFd1lEVlIwbEJBd3dDZ1lJS3dZQkJRVUgKQXdJd0RBWURWUjBUQVFIL0JBSXdBREFmQmdOVkhTTUVHREFXZ0JTTkxiVy9WK0xvdTVoRkUyTE82MFhPNVNqUApIekFOQmdrcWhraUc5dzBCQVFzRkFBT0NBUUVBbTNsWC9WcFZYcXpwSUIvcHJJK0tkM25FanZRd1ZzMlB2dWIyClpsSG9PMU1xd2RWV1JUYTVFTDl6c0s1eWxabnFMR25xdVV1L3VUekZCSjBORHJrT2dVb2d6eWdnS1FoaDBNcDIKaVo2K29RM3cvZG0vRnF1RVByaUZqZzB4NlJXWFVVTGMva280VXdHZGxoRVBkN29ETlk1NUFMVTZtV2RSUTdFOQpSN0JjTXRySnpoWGs5b1lpUzA1ZnQvcHNyZkZleXB3c2dCeVZNSVV2NlZlejlqTEw1N3l5MzNZRTYrKzJHRmtvClZJLzRMdEhlN09keWRFei9PTVd6RnpTSXkzRVBtWWlFb1lZdWt3dGRwU2E2MjBaYXZCNXRVZ1g2QWpFWGR6eUwKZEVsR3hwQ0tqbC85bmM4Ynk2UTB4WFRaajcxK1NuVXV2K2tPdGZXSHZpcW0rMHZjM1E9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
    ```
* `client_key`:
    ```bash
    LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFb3dJQkFBS0NBUUVBeGFpUUxKM2xtbG8vV1U1SWpmbVovblA4amhBTUpMY2dLcG4wS2hKczdxajh0K3RUCnFJaWtzWDQxWS92SG9YYXFkTEdhekt0LzRlckc0WEtVc3loUnp3TnJLeUQxRDF5WUE0SFFKejlSc05ua0hPamcKNDJibXJ5VjVJVGtXbk5RVUJoMFlOYzEzMDZIOU9TemlGZjg3bDI1eWxYL2c0V3FVRnMzWjZ6TTIvdU83Mi90NQoxRzFubHkyaUY3TkpzSWNKKzYycXNONVlRZUZHTThobGFqZGRRU2JBbE1tTmhpeDJzWVZEY0pqM3hQYmxoYUZ0Cko5N2prQnVaMlMyL1k0RzJxamkrTkVzTnFaTzVIQWlqL3J1S3FWY3RpMndGS0pOYlRqRmNWRkJRR29FM3ZNQWUKcWxyaThZUjhKWjhJVGRIWUcwdWVMaTZxVk5wMzIvTlNJWWY0VndJREFRQUJBb0lCQVFDbTAzaXNUN0NFc0hzYgpVemxscXkvUVZmRHBycDJ4TjJiTXpoZ0lrbmlpanJxT09PN3BKanRyRzR6UWtLZVRuZWFNaTRLT0VJbmxFaFUrCkgwbG1WVGVITStsMkEyRVMwQ0gxZzlFOTd2RnlCTlhGbU1DRzdranh0djBmajJHSWlHOUdJYlJYWk00b0wyYmMKcFFkRmJhRE1WUW9kS0V1VHRqSzdkSTdqTnR6S0Q4ckhwbkpuemZ6cXY3d0g0NW5CamlSUU9UTjgrUytNOUhaUwpNYzk5MS9tOS9lSkFkb2FoRnhNdmdXRWFvRGZIWW9ybHRsMnNEYmpBdkxVeTVGeWsva2JJNWN1OE5WUU9GckMvCjVLL0xUaXoyQVJ5bExULzRBUGRqK3Vkckd5V0pvU05DK0hEcVlONXFwS0lkRnY2aEJoM29ZUzVML3IwUnBaWlMKcVBiK2w5U3hBb0dCQVBqNlRQU0l0VXcxdW9lV3dKNUh0RXFaM0YwMU1BaDN4bXVGSDNLZWF0NXFGNEJvenRuVAo0cGRORExRNjZOOWVtMVJCVnNLTWQ3c3lOV2d5V3R3b2x4Q3QxcVdTMmhZMlFEWjJJbzNpTnplNHBnN29wQzFQCkhsNE95VXhaRzRDQmdiaE5qRzB4c2h6OGM3ang1MllYc3E4WjBTUUwrZVhIUWtSZW9qd3EvNEhUQW9HQkFNczcKdUliRUwvalZPNlZQNXBuZmJ1a0s4ekR0UXR6Yy96RFBBQ3ZtUTg5MlRrWjdvb3kxL2hBTXcvQ0FpWG4wQ0VUcApLdFpKQ3k4VFVKcWpTamltVngrVWFoSjVweXVDcEZCQkhEREp0ZTFPU0F5TVBmNXNkZHBXaHZqSStySitEeW9jCkhDZTNVTmd4d1BxN1JSa2dWcHdyY1BNRHhxdElJZlBsNE91U1N4anRBb0dBRlpNaS9nR21yQzd2dGZZalJOUHoKMUk4V29HRU9nMzFWalZXZ3p2N1pSZUt0bkt2NFdMbmFwYi9BZlJHcHdrbGhibUNuRXY2M0ZWcVpkQ2tBNUprRAoxaWNxTlhqUE95T0NWdlhQc3JuS2pTS01DVGl4bVZlRXl5TyszOFhNODByRm9lSGViRXZsSWt2aC8wRy9Db0s5Ck1oMHJtVk1NV1pQMXN4VDhPL2lCNFk4Q2dZQmVCSHl5NjZOOXE3ZHlIR3FEbUplSWU2WlJaaEZlZDJZZXdFUkcKQ3Jvb0NZVGdtbVZ5VHViL3FjZ2pSSE5VMVkzVncwQXI3WktjN29TRlpURDYwQWpSOVNpMDcwNWtsSVZMRXpQbApaZ3NoZ3V0VjByTUROazIyK2Z4cXJ4ODYzNUpJV3NTem90eGxoMjdORDBGQ0JISE13VlA1T0MvNklONkVKRDVPCi9GaDlhUUtCZ0J2dFZFcWZzSHRZVnpWZFV1bmdQeHhnQnFpcDRhMGVJVU5RVTVPUFdraEVDMjZ4VFdJYjkzTXIKUzlNcnRlQXFkb3B4VTY0NmIrTHg4UmdPVC9ITzFFbDIrdVJBYXpDSHJlWHlsbEJqNUJvd1BuQm1ZSkJvcFczTQowdGthNWNiTEtaMUFUakNRREdUUG5kdENoYUlGaVI0dHVqQVdQR3N6UFY0Zm55WnRFTnNxCi0tLS0tRU5EIFJTQSBQUklWQVRFIEtFWS0tLS0tCg==
    ```
* `cluster_ca_certificate(certificate-authority-data)`:
    ```bash
    LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURJVENDQWdtZ0F3SUJBZ0lJVFpmQXBvbnFkMTB3RFFZSktvWklodmNOQVFFTEJRQXdGVEVUTUJFR0ExVUUKQXhNS2EzVmlaWEp1WlhSbGN6QWVGdzB5TWpBNU1qa3dNVEk1TVRCYUZ3MHlNekE1TWprd01USTVNVE5hTURReApGekFWQmdOVkJBb1REbk41YzNSbGJUcHRZWE4wWlhKek1Sa3dGd1lEVlFRREV4QnJkV0psY201bGRHVnpMV0ZrCmJXbHVNSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQXhhaVFMSjNsbWxvL1dVNUkKamZtWi9uUDhqaEFNSkxjZ0twbjBLaEpzN3FqOHQrdFRxSWlrc1g0MVkvdkhvWGFxZExHYXpLdC80ZXJHNFhLVQpzeWhSendOckt5RDFEMXlZQTRIUUp6OVJzTm5rSE9qZzQyYm1yeVY1SVRrV25OUVVCaDBZTmMxMzA2SDlPU3ppCkZmODdsMjV5bFgvZzRXcVVGczNaNnpNMi91TzcyL3Q1MUcxbmx5MmlGN05Kc0ljSis2MnFzTjVZUWVGR004aGwKYWpkZFFTYkFsTW1OaGl4MnNZVkRjSmozeFBibGhhRnRKOTdqa0J1WjJTMi9ZNEcycWppK05Fc05xWk81SEFpagovcnVLcVZjdGkyd0ZLSk5iVGpGY1ZGQlFHb0Uzdk1BZXFscmk4WVI4Slo4SVRkSFlHMHVlTGk2cVZOcDMyL05TCklZZjRWd0lEQVFBQm8xWXdWREFPQmdOVkhROEJBZjhFQkFNQ0JhQXdFd1lEVlIwbEJBd3dDZ1lJS3dZQkJRVUgKQXdJd0RBWURWUjBUQVFIL0JBSXdBREFmQmdOVkhTTUVHREFXZ0JTTkxiVy9WK0xvdTVoRkUyTE82MFhPNVNqUApIekFOQmdrcWhraUc5dzBCQVFzRkFBT0NBUUVBbTNsWC9WcFZYcXpwSUIvcHJJK0tkM25FanZRd1ZzMlB2dWIyClpsSG9PMU1xd2RWV1JUYTVFTDl6c0s1eWxabnFMR25xdVV1L3VUekZCSjBORHJrT2dVb2d6eWdnS1FoaDBNcDIKaVo2K29RM3cvZG0vRnF1RVByaUZqZzB4NlJXWFVVTGMva280VXdHZGxoRVBkN29ETlk1NUFMVTZtV2RSUTdFOQpSN0JjTXRySnpoWGs5b1lpUzA1ZnQvcHNyZkZleXB3c2dCeVZNSVV2NlZlejlqTEw1N3l5MzNZRTYrKzJHRmtvClZJLzRMdEhlN09keWRFei9PTVd6RnpTSXkzRVBtWWlFb1lZdWt3dGRwU2E2MjBaYXZCNXRVZ1g2QWpFWGR6eUwKZEVsR3hwQ0tqbC85bmM4Ynk2UTB4WFRaajcxK1NuVXV2K2tPdGZXSHZpcW0rMHZjM1E9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
    ```
    